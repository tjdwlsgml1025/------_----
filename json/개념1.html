<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>  
    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>   
<script>
    $(document).ready(function(){
        //자바스크립트 객체를 json형태로 바꾸기
        var person = {
            name: "홍길동",
            age: 30
        }

        var json = JSON.stringify(person); //제이슨에 해다오디는 string으로 바꾸겟다

        document.write(json + "<br>")

        //ajax란 jquery가 제공하는 비동기 통신함수
        // $.ajax({
        //      type : `http method type`,
        //      url : `url`,
        //      data : `서버에 전송할 데이터`,
        //      contentType : "전송할 데이터 타입",
        //      //기본 값 : "application / x-www-form-urlencoded; charset = UTF-8"  
        //      dataType : '서버로 부터 수신할 데이터 타입',
        //      //아무것도 지정하지 않으면 jQuery는 응답의 MIME 유형을 기반으로 해석을 시도
        //      error : `에러 발생시 수행할 함수`,
        //      success : `성공시 수행할 함수`
    // });

    //json그대로가 아니라 자바스크립트객체로 바꿔서 ajax가 서버로 넘겨줌
            $.ajax({
                type : "GET",
                url : "https://sample.bmaster.kro.kr/contacts?pageno=3&pagesize=10", //이 서버로 통신을 시도함
                async : false;, //비동기라는 뜻=false니까 순차적으로나오게됨
                success  : function(result){                    
                    console.log("통신성공");
                    console.log(result); //리절트 안에 객체들이 들어있음(링크에있던)
                    document.write(result.pageno); //리절트에 있는 정보뽑는법
                    document.write(result.contacts[0].name); //배열뽑는법
                   
                },
                error : function(error){
                    console.log(error); //그다음에 ajax함수탐(비동기라 굳이 위거 안기다리고 )
                }
            });

            console.log("비동기 체크 문구") //얘부터 탄다 
    });

</script>
</head>
<body>


</body>
</html>
